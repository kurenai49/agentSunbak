{% load static %}
<div class="container">
    {#    ìµœìƒë‹¨ê´‘ê³ íŒ#}
    <div class="index-wrap" style="text-align: center;">
        <a href="https://kawasakikorea.com/ULTRA310LX">
            <img src="{% static 'imgs/mainlogo.png' %}" alt="" class="main-image">
        </a>
    </div>
    <div class="category_wrap">
        <ul class="categories_link">
            <li data-category="ì–´ì„ " onclick="navigateToCategory(this)">
                <p style="background-image: url('{% static 'imgs/fishing_vessel.jpg' %}');"></p>
                <span>ì–´ì„ </span>
            </li>
            {#            <span class="separator"></span>#}
            <li data-category="ë‚šì‹œë°°" onclick="navigateToCategory(this)">
                <p style="background-image: url('{% static 'imgs/fishing_boat.jpg' %}');"></p>
                <span>ë‚šì‹œë°°</span>
            </li>
            {#            <span class="separator"></span>#}
            <li data-category="ë ˆì €ì„ ë°•" onclick="navigateToCategory(this)">
                <p style="background-image: url('{% static 'imgs/leisure_boat.jpg' %}');"></p>
                <span>ë ˆì €ì„ </span>
            </li>
            {#            <span class="separator"></span>#}
            <li data-category="ê¸°íƒ€ì„ ë°•" onclick="navigateToCategory(this)">
                <p style="background-image: url('{% static 'imgs/etc.jpg' %}');"></p>
                <span>ê¸°íƒ€ì„ ë°•</span>
            </li>
        </ul>
    </div>

</div>
<form id="search-form" method="get" class="search-form">
    <div class="selects">
        <select name="order" onchange="submitForm()">
            <option value="update_desc" {% if order == 'update_desc' %}selected{% endif %}>ìµœì‹ ìˆœ</option>
            <option value="update_asc" {% if order == 'update_asc' %}selected{% endif %}>ê³¼ê±°ìˆœ</option>
            <option value="price_desc" {% if order == 'price_desc' %}selected{% endif %}>ë†’ì€ê°€ê²©ìˆœ</option>
            <option value="price_asc" {% if order == 'price_asc' %}selected{% endif %}>ë‚®ì€ê°€ê²©ìˆœ</option>
        </select>

        <select name="price_range" onchange="submitForm()">
            <option value="">ê°€ê²© ì „ì²´</option>
            <option value="below_100" {% if selected_price == 'below_100' %}selected{% endif %}>1ì–µ ë¯¸ë§Œ</option>
            <option value="100_to_300" {% if selected_price == '100_to_300' %}selected{% endif %}>1ì–µ ì´ìƒ ~ 3ì–µ ë¯¸ë§Œ</option>
            <option value="300_to_1000" {% if selected_price == '300_to_1000' %}selected{% endif %}>3ì–µ ì´ìƒ ~ 10ì–µ ë¯¸ë§Œ</option>
            <option value="above_1000" {% if selected_price == 'above_1000' %}selected{% endif %}>10ì–µ ì´ìƒ</option>
        </select>

        <select name="tons_range" onchange="submitForm()">
            <option value="">í†¤ìˆ˜ ì „ì²´</option>
            <option value="below_3t" {% if selected_tons == 'below_3t' %}selected{% endif %}>3í†¤ ë¯¸ë§Œ</option>
            <option value="3t_to_5t" {% if selected_tons == '3t_to_5t' %}selected{% endif %}>3í†¤ ì´ìƒ ~ 5í†¤ ë¯¸ë§Œ</option>
            <option value="5t_to_8t" {% if selected_tons == '5t_to_8t' %}selected{% endif %}>5í†¤ ì´ìƒ ~ 8í†¤ ë¯¸ë§Œ</option>
            <option value="8t_to_10t" {% if selected_tons == '8t_to_10t' %}selected{% endif %}>8í†¤ ì´ìƒ ~ 10í†¤ ë¯¸ë§Œ</option>
            <option value="above_10t" {% if selected_tons == 'above_10t' %}selected{% endif %}>10í†¤ ì´ìƒ</option>
        </select>
    </div>
    <div class="year-filter">
        <label for="min_modelYear" class="year-label">ëª¨ë¸ ì—°ì‹</label>
        <input type="number" name="min_modelYear" id="min_modelYear" value="{{ request.GET.min_modelYear }}" class="filter-input" placeholder="2000">
        <span class="year-range-symbol">~</span>

        <input type="number" name="max_modelYear" id="max_modelYear" value="{{ request.GET.max_modelYear }}" class="filter-input" placeholder="20xx">
        <div class="search-group">
            <input type="text" name="query" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" value="{{ request.GET.query }}">
            <button class="searchbtn">ğŸ”</button>
        </div>
    </div>
</form>


{#ionrangeslider#}
{#<div class="filter_slide">#}
{##}
{#    <input type="text" id="price" name="price" value="{{ request.GET.price }}"/>#}
{#    <input type="text" id="tons_weight" name="tons_weight" value="{{ request.GET.tons_weight }}"/>#}
{#</div>#}

<script>
    function navigateToCategory(element) {
        const boardType = element.getAttribute('data-category');
        const currentUrl = window.location.href;
        const newUrl = new URL(currentUrl);
        newUrl.searchParams.set('boardType', boardType);
        window.location.href = newUrl.toString();
    }
</script>